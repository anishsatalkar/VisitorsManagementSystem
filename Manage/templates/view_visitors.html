{% extends 'base.html' %}

{% block content %}

    <div class="container-fluid"
         style="margin-top:24px;padding-top: 8px;padding-bottom: 128px;">
        <div class="row">
            <div class="col-md-1">

            </div>
            <div class="col-md-10 central-view">
                <legend style="color: dodgerblue;margin: 24px">Visitors</legend>
                {% if visitors.count == 0 %}
                    <h3>No Visitors Added</h3>
                {% else %}
                    <form action="#" method="post" style="margin: 24px">
                        {% csrf_token %}
                        <table id="visitor_table" class="display table table-striped table-hover table-bordered" style="background-color:#ffb856;border-radius: 8px">
                            <thead>
                            <tr>
                                <th>Firstname</th>
                                <th>Lastname</th>
                                <th>Email</th>
                                <th>Organisation/University</th>
                                <th>Mobile</th>
                                <th>Date and Time of Entry</th>
                                <th>Purpose Of Visit</th>
                            </tr>
                            </thead>
                            <tbody>

                            {% for visitor in visitors %}

                                {#                        data-toggle="collapse" data-target=".{{ forloop.counter }}"#}
                                <tr>
                                    <td>
                                        <button class="btn btn-primary btn-sm" type="submit" name="user_name"
                                                value="{{ visitor.pk }}">{{ visitor.first_name }}</button>
                                    </td>
                                    <td>{{ visitor.last_name }}</td>
                                    <td>{{ visitor.email }}</td>
                                    <td>{{ visitor.organisation }} / {{ visitor.university }}</td>
                                    <td>{{ visitor.mobile }}</td>
                                    <td>{{ visitor.date_time_of_entry }}</td>
                                    <td>{{ visitor.purpose_of_visit }}</td>
                                </tr>
                            {% endfor %}


                            </tbody>
                        </table>
                    </form>
                {% endif %}

            </div>
            <div class="col-md-1">

            </div>
        </div>

    </div>

    <script>
        $(document).ready(function () {
            $('#visitor_table').DataTable();
        });

    </script>



{% endblock content %}
